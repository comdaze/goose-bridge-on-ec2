# GOOSE Protocol Cloud Bridge Service

ğŸš€ **ç”Ÿäº§çº§GOOSEåè®®äº‘ç«¯æ¡¥æ¥æœåŠ¡** - ä¸“ä¸ºAWSç¯å¢ƒä¼˜åŒ–çš„å·¥ä¸šåè®®äº‘ç«¯éƒ¨ç½²è§£å†³æ–¹æ¡ˆ

[![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)](./VERSION)
[![License](https://img.shields.io/badge/license-Industrial-green.svg)](#)
[![AWS](https://img.shields.io/badge/AWS-TGW%20Optimized-orange.svg)](#)

## ğŸ“‹ ç›®å½•

### åŸºç¡€ä½¿ç”¨
- [é¡¹ç›®æ¦‚è¿°](#-é¡¹ç›®æ¦‚è¿°)
- [æ ¸å¿ƒç‰¹æ€§](#-æ ¸å¿ƒç‰¹æ€§)
- [é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [å®‰è£…æŒ‡å—](#-å®‰è£…æŒ‡å—)
- [é…ç½®è¯´æ˜](#ï¸-é…ç½®è¯´æ˜)
- [ä½¿ç”¨æ–¹æ³•](#-ä½¿ç”¨æ–¹æ³•)

### æµ‹è¯•å’Œç›‘æ§
- [æµ‹è¯•å·¥å…·](#-æµ‹è¯•å·¥å…·)
- [ç›‘æ§å’Œè¯Šæ–­](#-ç›‘æ§å’Œè¯Šæ–­)
- [æ€§èƒ½ä¼˜åŒ–](#-æ€§èƒ½ä¼˜åŒ–)
- [æ•…éšœæ’é™¤](#-æ•…éšœæ’é™¤)

### æŠ€æœ¯æ¶æ„æ·±åº¦è§£æ
- [æ•´ä½“æ¶æ„å›¾](#ï¸-æ•´ä½“æ¶æ„å›¾)
- [æ•°æ®æµåŸç†å›¾](#-æ•°æ®æµåŸç†å›¾)
- [GOOSEåè®®è¯¦è§£](#-gooseåè®®è¯¦è§£)
- [AWS TGWå¤šæ’­åŸç†](#-aws-transit-gatewayå¤šæ’­æ¶æ„)
- [TGW vs ä¼ ç»Ÿå¤šæ’­å¯¹æ¯”](#-tgwå¤šæ’­-vs-ä¼ ç»Ÿå±€åŸŸç½‘å¤šæ’­å¯¹æ¯”)
- [æ¡¥æ¥è§£å†³æ–¹æ¡ˆåŸç†](#-æ¡¥æ¥è§£å†³æ–¹æ¡ˆåŸç†)

### é¡¹ç›®ä¿¡æ¯
- [æ¶æ„è¯´æ˜](#ï¸-æ¶æ„è¯´æ˜)
- [ç‰ˆæœ¬å†å²](#-ç‰ˆæœ¬å†å²)
- [å®‰å…¨è€ƒè™‘](#-å®‰å…¨è€ƒè™‘)
- [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„GOOSEåè®®äº‘ç«¯æ¡¥æ¥æœåŠ¡ï¼Œæ”¯æŒlibiec61850å’Œå…¶ä»–IEC 61850åº”ç”¨åœ¨AWSäº‘ç¯å¢ƒä¸­çš„éƒ¨ç½²ã€‚é€šè¿‡é€æ˜çš„åè®®è½¬æ¢ï¼Œå®ç°å·¥ä¸šè®¾å¤‡çš„äº‘ç«¯äº’è”ã€‚

### æ ¸å¿ƒç‰¹æ€§

- âœ… **ä¼˜åŒ–å•ç«¯å£è®¾è®¡** - åªéœ€å¼€æ”¾UDP 61850ç«¯å£ï¼Œç®€åŒ–å®‰å…¨ç»„é…ç½®
- âœ… **IGMPä¿æ´»æœºåˆ¶** - é˜²æ­¢AWS TGW 6åˆ†é’Ÿè¶…æ—¶ï¼ŒåŸºäºå®˜æ–¹æ–‡æ¡£ä¼˜åŒ–
- âœ… **VLAN GOOSEå¸§æ”¯æŒ** - å®Œå…¨å…¼å®¹libiec61850å’Œå·¥ä¸šæ ‡å‡†
- âœ… **é«˜æ€§èƒ½å¼‚æ­¥å¤„ç†** - æ”¯æŒ1000+ GOOSEå¸§/ç§’ï¼Œç”Ÿäº§çº§æ€§èƒ½
- âœ… **æ™ºèƒ½ç›‘æ§é‡æ³¨å†Œ** - è‡ªåŠ¨æ£€æµ‹å’Œæ¢å¤æ³¨å†ŒçŠ¶æ€
- âœ… **AWS TGWä¼˜åŒ–** - åŸºäºå®˜æ–¹æ–‡æ¡£çš„æœ€ä½³å®è·µé…ç½®

## ğŸ“ é¡¹ç›®ç»“æ„

```
goose-bridge/                           # 232KB å®Œæ•´é¡¹ç›®
â”œâ”€â”€ src/                               # æºä»£ç 
â”‚   â””â”€â”€ goose-bridge.py               # ä¸»ç¨‹åºï¼ˆä¼˜åŒ–å•ç«¯å£ç‰ˆï¼‰
â”œâ”€â”€ config/                           # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ goose-bridge.conf            # æœåŠ¡é…ç½®
â”‚   â””â”€â”€ goose-bridge.service         # systemdæœåŠ¡æ–‡ä»¶
â”œâ”€â”€ scripts/                          # è„šæœ¬å’Œå·¥å…·
â”‚   â”œâ”€â”€ install-goose-bridge.sh      # å®‰è£…è„šæœ¬
â”‚   â”œâ”€â”€ goose-bridge-monitor.py      # ç›‘æ§å·¥å…·
â”‚   â””â”€â”€ goose-bridge-benchmark.py    # æ€§èƒ½æµ‹è¯•å·¥å…·
â”œâ”€â”€ tests/                            # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ basic_ip_multicast_test.py    # åŸºç¡€å¤šæ’­æµ‹è¯•
â”‚   â”œâ”€â”€ igmp_multicast_test.py        # IGMPå¤šæ’­æµ‹è¯•
â”‚   â”œâ”€â”€ aws_tgw_igmp_validator.py     # AWS TGW IGMPéªŒè¯
â”‚   â””â”€â”€ igmp_lifecycle_monitor_fixed.py # IGMPç”Ÿå‘½å‘¨æœŸç›‘æ§
â”œâ”€â”€ docs/                             # æ–‡æ¡£
â”‚   â””â”€â”€ PRODUCTION_DEPLOYMENT_GUIDE.md # ç”Ÿäº§éƒ¨ç½²æŒ‡å—
â””â”€â”€ README.md                         # é¡¹ç›®è¯´æ˜ï¼ˆæœ¬æ–‡ä»¶ï¼‰
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: Linux (Amazon Linux 2, Ubuntu 18.04+, CentOS 7+)
- **Python**: 3.6+
- **æƒé™**: rootæƒé™ï¼ˆç”¨äºåˆ›å»ºTUNæ¥å£ï¼‰
- **AWS**: EC2å®ä¾‹ï¼Œé…ç½®TGWå¤šæ’­åŸŸ

### 5åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²

#### 1. è¿›å…¥é¡¹ç›®ç›®å½•
```bash
cd goose-bridge
```

#### 2. æ£€æŸ¥é¡¹ç›®ç»“æ„
```bash
ls -la
# åº”è¯¥çœ‹åˆ°ï¼šsrc/, config/, scripts/, tests/, docs/
```

#### 3. ä¸€é”®å®‰è£…
```bash
# éœ€è¦rootæƒé™
sudo ./scripts/install-goose-bridge.sh
```

#### 4. å¯åŠ¨æœåŠ¡
```bash
# å¯åŠ¨æœåŠ¡
sudo goose-bridge-ctl start

# æ£€æŸ¥çŠ¶æ€
goose-bridge-ctl status
```

#### 5. é…ç½®AWSå®‰å…¨ç»„
åªéœ€å¼€æ”¾ä¸€ä¸ªç«¯å£ï¼š
```
ç±»å‹: Custom UDP
ç«¯å£: 61850
æ¥æº: 0.0.0.0/0 (æˆ–æŒ‡å®šIPèŒƒå›´)
æè¿°: GOOSE Protocol Bridge Service
```

#### 6. éªŒè¯å®‰è£…
```bash
# æ£€æŸ¥ç«¯å£
goose-bridge-ctl ports

# æ£€æŸ¥å®‰å…¨ç»„
goose-bridge-security-check

# å®æ—¶ç›‘æ§
goose-bridge-ctl monitor
```

## ğŸ“¦ å®‰è£…æŒ‡å—

### è‡ªåŠ¨å®‰è£…ï¼ˆæ¨èï¼‰

å®‰è£…è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆä»¥ä¸‹æ“ä½œï¼š

1. **æ–‡ä»¶éƒ¨ç½²**
   - å¤åˆ¶ä¸»ç¨‹åºåˆ° `/usr/local/bin/goose-bridge`
   - å¤åˆ¶é…ç½®æ–‡ä»¶åˆ° `/etc/goose-bridge/`
   - å®‰è£…systemdæœåŠ¡æ–‡ä»¶
   - åˆ›å»ºç®¡ç†è„šæœ¬

2. **ç³»ç»Ÿé…ç½®**
   - ä¼˜åŒ–IGMPç³»ç»Ÿå‚æ•°
   - é…ç½®æ—¥å¿—è½®è½¬
   - è®¾ç½®ç½‘ç»œç¼“å†²åŒº

3. **AWSé…ç½®**
   - æ£€æŸ¥EC2å®ä¾‹é…ç½®
   - ç¦ç”¨æº/ç›®æ ‡æ£€æŸ¥
   - éªŒè¯TGWå¤šæ’­åŸŸ

### æ‰‹åŠ¨å®‰è£…

å¦‚æœéœ€è¦æ‰‹åŠ¨å®‰è£…ï¼š

```bash
# 1. å¤åˆ¶ç¨‹åºæ–‡ä»¶
sudo cp src/goose-bridge.py /usr/local/bin/goose-bridge
sudo chmod +x /usr/local/bin/goose-bridge

# 2. å¤åˆ¶é…ç½®æ–‡ä»¶
sudo mkdir -p /etc/goose-bridge
sudo cp config/goose-bridge.conf /etc/goose-bridge/

# 3. å®‰è£…systemdæœåŠ¡
sudo cp config/goose-bridge.service /etc/systemd/system/
sudo systemctl daemon-reload

# 4. å®‰è£…ç®¡ç†å·¥å…·
sudo cp scripts/goose-bridge-monitor.py /usr/local/bin/goose-bridge-monitor
sudo chmod +x /usr/local/bin/goose-bridge-monitor
```

### å®‰è£…éªŒè¯

```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
sudo systemctl status goose-bridge

# å¯åŠ¨æœåŠ¡
sudo goose-bridge-ctl start

# éªŒè¯ç«¯å£
goose-bridge-ctl ports

# æ£€æŸ¥å®‰å…¨ç»„
goose-bridge-security-check
```

## âš™ï¸ é…ç½®è¯´æ˜

### ä¸»é…ç½®æ–‡ä»¶: `config/goose-bridge.conf`

```ini
# åŸºæœ¬é…ç½®
interface = goose0
multicast_ip = 224.0.1.100
multicast_port = 61850

# IGMPä¿æ´»é…ç½®ï¼ˆåŸºäºAWS TGWæœºåˆ¶ä¼˜åŒ–ï¼‰
enable_igmp_keepalive = true
igmp_keepalive_interval = 90    # 90ç§’ä¿æ´»é—´éš”
igmp_monitor_interval = 120     # 120ç§’ç›‘æ§é—´éš”
igmp_reregister_threshold = 2   # 2æ¬¡å¤±è´¥åé‡æ³¨å†Œ
enable_tgw_monitoring = true    # å¯ç”¨TGWç›‘æ§
tgw_multicast_domain_id = tgw-mcast-domain-01d79015018690cef

# æ€§èƒ½é…ç½®
buffer_size = 2048
batch_size = 10
worker_threads = 2
```

### ç¯å¢ƒä¼˜åŒ–é…ç½®

#### é«˜è´Ÿè½½ç¯å¢ƒ
```ini
buffer_size = 4096
batch_size = 20
worker_threads = 4
igmp_keepalive_interval = 60
```

#### é«˜å¯é æ€§ç¯å¢ƒ
```ini
igmp_reregister_threshold = 1
igmp_keepalive_interval = 60
igmp_monitor_interval = 90
```

#### ä½å»¶è¿Ÿç¯å¢ƒ
```ini
buffer_size = 1024
batch_size = 5
worker_threads = 1
igmp_keepalive_interval = 60
```

## ğŸ”§ ä½¿ç”¨æ–¹æ³•

### ç®¡ç†å‘½ä»¤

```bash
# æœåŠ¡ç®¡ç†
goose-bridge-ctl start      # å¯åŠ¨æœåŠ¡
goose-bridge-ctl stop       # åœæ­¢æœåŠ¡
goose-bridge-ctl restart    # é‡å¯æœåŠ¡
goose-bridge-ctl status     # æŸ¥çœ‹çŠ¶æ€
goose-bridge-ctl logs       # æŸ¥çœ‹æ—¥å¿—
goose-bridge-ctl monitor    # å®æ—¶ç›‘æ§

# è¯Šæ–­å’Œæµ‹è¯•
goose-bridge-ctl ports      # æ£€æŸ¥ç«¯å£ä½¿ç”¨
goose-bridge-ctl benchmark  # æ€§èƒ½åŸºå‡†æµ‹è¯•
goose-bridge-ctl test       # æµ‹è¯•è¯´æ˜

# å®‰å…¨ç»„æ£€æŸ¥
goose-bridge-security-check # æ£€æŸ¥AWSå®‰å…¨ç»„é…ç½®
```

### ä¼ ç»Ÿsystemctlå‘½ä»¤

```bash
sudo systemctl start goose-bridge    # å¯åŠ¨æœåŠ¡
sudo systemctl stop goose-bridge     # åœæ­¢æœåŠ¡
sudo systemctl status goose-bridge   # æŸ¥çœ‹çŠ¶æ€
sudo systemctl enable goose-bridge   # å¼€æœºå¯åŠ¨
sudo journalctl -u goose-bridge -f   # æŸ¥çœ‹æ—¥å¿—
```

### é‡è¦æ–‡ä»¶ä½ç½®

- **ä¸»ç¨‹åº**: `/usr/local/bin/goose-bridge`
- **ç›‘æ§å·¥å…·**: `/usr/local/bin/goose-bridge-monitor`
- **åŸºå‡†æµ‹è¯•**: `/usr/local/bin/goose-bridge-benchmark`
- **ç®¡ç†è„šæœ¬**: `/usr/local/bin/goose-bridge-ctl`
- **å®‰å…¨ç»„æ£€æŸ¥**: `/usr/local/bin/goose-bridge-security-check`
- **é…ç½®æ–‡ä»¶**: `/etc/goose-bridge/goose-bridge.conf`
- **æ—¥å¿—æ–‡ä»¶**: `/var/log/goose-bridge.log`
- **ç»Ÿè®¡æ–‡ä»¶**: `/var/lib/goose-bridge/stats.json`

## ğŸ§ª æµ‹è¯•å·¥å…·

### åŸºç¡€åŠŸèƒ½æµ‹è¯•

```bash
# è¿›å…¥æµ‹è¯•ç›®å½•
cd tests

# åŸºç¡€å¤šæ’­æµ‹è¯•
python3 basic_ip_multicast_test.py

# IGMPåŠŸèƒ½æµ‹è¯•
python3 igmp_multicast_test.py

# AWS TGW IGMPéªŒè¯
python3 aws_tgw_igmp_validator.py status
```

### libiec61850æµ‹è¯•

```bash
# å‘é€ç«¯ï¼ˆç»ˆç«¯1ï¼‰
sudo ./goose_publisher_example goose0

# æ¥æ”¶ç«¯ï¼ˆç»ˆç«¯2ï¼‰
sudo ./goose_subscriber_example goose0
```

### æ€§èƒ½åŸºå‡†æµ‹è¯•

```bash
# ååé‡æµ‹è¯•
goose-bridge-ctl benchmark throughput --rate 1000 --duration 60

# å»¶è¿Ÿæµ‹è¯•
goose-bridge-ctl benchmark latency --count 10000

# å‹åŠ›æµ‹è¯•
goose-bridge-ctl benchmark throughput --rate 2000 --packet-size 1000
```

### IGMPç”Ÿå‘½å‘¨æœŸæµ‹è¯•

```bash
cd tests

# ç›‘æ§IGMPç”Ÿå‘½å‘¨æœŸ
python3 igmp_lifecycle_monitor_fixed.py monitor --duration 300

# AWS TGWè¶…æ—¶æœºåˆ¶æµ‹è¯•
python3 aws_tgw_igmp_validator.py timeout
```

## ğŸ“Š ç›‘æ§å’Œè¯Šæ–­

### å®æ—¶ç›‘æ§

```bash
# å®æ—¶æœåŠ¡ç›‘æ§
goose-bridge-ctl monitor

# å®æ—¶æ—¥å¿—
goose-bridge-ctl logs

# ç«¯å£çŠ¶æ€æ£€æŸ¥
goose-bridge-ctl ports
```

### ç»Ÿè®¡ä¿¡æ¯

æœåŠ¡æä¾›è¯¦ç»†çš„ç»Ÿè®¡ä¿¡æ¯ï¼š
- GOOSEå¸§å¤„ç†ç»Ÿè®¡
- IGMPä¿æ´»ç»Ÿè®¡
- é”™è¯¯å’Œé‡æ³¨å†Œç»Ÿè®¡
- æ€§èƒ½ååé‡ç»Ÿè®¡

### æ—¥å¿—æ–‡ä»¶

- **æœåŠ¡æ—¥å¿—**: `/var/log/goose-bridge.log`
- **ç»Ÿè®¡æ–‡ä»¶**: `/var/lib/goose-bridge/stats.json`
- **ç³»ç»Ÿæ—¥å¿—**: `journalctl -u goose-bridge`

### å¥åº·æ£€æŸ¥

```bash
# æœåŠ¡çŠ¶æ€
goose-bridge-ctl status

# å®‰å…¨ç»„é…ç½®
goose-bridge-security-check

# IGMPçŠ¶æ€éªŒè¯
cd tests && python3 aws_tgw_igmp_validator.py status
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### é¢„æœŸæ€§èƒ½æŒ‡æ ‡

- **ååé‡**: 1000+ GOOSEå¸§/ç§’
- **å»¶è¿Ÿ**: < 1ms (å±€åŸŸç½‘)
- **å¯é æ€§**: 99.9%+ å¯ç”¨æ€§
- **èµ„æºä½¿ç”¨**: < 100MBå†…å­˜ï¼Œ< 5% CPU

### æ€§èƒ½è°ƒä¼˜

#### ç¼–è¾‘é…ç½®æ–‡ä»¶
```bash
sudo nano /etc/goose-bridge/goose-bridge.conf
sudo systemctl reload goose-bridge
```

#### ç³»ç»Ÿçº§ä¼˜åŒ–
```bash
# ç½‘ç»œç¼“å†²åŒºä¼˜åŒ–ï¼ˆå®‰è£…è„šæœ¬è‡ªåŠ¨é…ç½®ï¼‰
sysctl net.core.rmem_max
sysctl net.core.wmem_max

# IGMPå‚æ•°ä¼˜åŒ–
sysctl net.ipv4.conf.all.force_igmp_version
```

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. æœåŠ¡å¯åŠ¨å¤±è´¥
```bash
sudo systemctl status goose-bridge
journalctl -u goose-bridge -n 50
```

#### 2. GOOSEå¸§æ— æ³•æ£€æµ‹
```bash
goose-bridge-security-check
goose-bridge-ctl ports
```

#### 3. è·¨å®ä¾‹é€šä¿¡å¤±è´¥
```bash
cd tests
python3 aws_tgw_igmp_validator.py status
```

#### 4. æƒé™é—®é¢˜
```bash
# ç¡®ä¿ä»¥rootæƒé™è¿è¡Œå®‰è£…è„šæœ¬
sudo ./scripts/install-goose-bridge.sh
```

#### 5. Pythonä¾èµ–é—®é¢˜
```bash
# æ£€æŸ¥Pythonç‰ˆæœ¬
python3 --version

# æ£€æŸ¥ä¾èµ–
python3 -c "import socket, struct, select, threading"
```

#### 6. AWSé…ç½®é—®é¢˜
```bash
# æ£€æŸ¥AWS CLI
aws --version
aws sts get-caller-identity

# æ£€æŸ¥å®ä¾‹å…ƒæ•°æ®
curl http://169.254.169.254/latest/meta-data/instance-id
```

### è¯Šæ–­å·¥å…·

- `goose-bridge-ctl status` - æœåŠ¡çŠ¶æ€
- `goose-bridge-security-check` - å®‰å…¨ç»„æ£€æŸ¥
- `tests/igmp_lifecycle_monitor_fixed.py` - IGMPç”Ÿå‘½å‘¨æœŸç›‘æ§
- `tests/aws_tgw_igmp_validator.py` - AWS TGWéªŒè¯

# æŠ€æœ¯æ¶æ„å’Œåè®®åŸç†

## ğŸ—ï¸ æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           AWS Cloud Environment                                     â”‚
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   EC2 Instance  â”‚    â”‚   EC2 Instance   â”‚    â”‚      AWS Transit Gateway        â”‚ â”‚
â”‚  â”‚      (å‘é€ç«¯)    â”‚    â”‚     (æ¥æ”¶ç«¯)     â”‚    â”‚                                 â”‚ â”‚
â”‚  â”‚                 â”‚    â”‚                  â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚  â”‚   Multicast Domain          â”‚ â”‚ â”‚
â”‚  â”‚ â”‚libiec61850  â”‚ â”‚    â”‚ â”‚ libiec61850  â”‚ â”‚    â”‚  â”‚                             â”‚ â”‚ â”‚
â”‚  â”‚ â”‚Application  â”‚ â”‚    â”‚ â”‚ Application  â”‚ â”‚    â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚
â”‚  â”‚ â”‚             â”‚ â”‚    â”‚ â”‚              â”‚ â”‚    â”‚  â”‚ â”‚    IGMP Management      â”‚ â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚    â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚    â”‚  â”‚ â”‚                         â”‚ â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â”‚Publisherâ”‚ â”‚ â”‚    â”‚ â”‚ â”‚Subscriberâ”‚ â”‚ â”‚    â”‚  â”‚ â”‚ â€¢ Query: Every 2min     â”‚ â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚    â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚    â”‚  â”‚ â”‚ â€¢ Timeout: 6min (3x)    â”‚ â”‚ â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚  â”‚ â”‚ â€¢ Data Forward: 7min    â”‚ â”‚ â”‚ â”‚
â”‚  â”‚        â”‚        â”‚    â”‚        â”‚         â”‚    â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚
â”‚  â”‚        â–¼        â”‚    â”‚        â–¼         â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚                                 â”‚ â”‚
â”‚  â”‚ â”‚GOOSE Bridge â”‚ â”‚    â”‚ â”‚ GOOSE Bridge â”‚ â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚ â”‚  Service    â”‚ â”‚    â”‚ â”‚   Service    â”‚ â”‚    â”‚  â”‚      Multicast Groups       â”‚ â”‚ â”‚
â”‚  â”‚ â”‚             â”‚ â”‚    â”‚ â”‚              â”‚ â”‚    â”‚  â”‚                             â”‚ â”‚ â”‚
â”‚  â”‚ â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚    â”‚ â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚    â”‚  â”‚ â€¢ 224.0.1.100:61850        â”‚ â”‚ â”‚
â”‚  â”‚ â”‚â”‚TAP(goose0)â”‚â”‚ â”‚    â”‚ â”‚â”‚TAP(goose0)  â”‚â”‚ â”‚    â”‚  â”‚ â€¢ ENI Registration          â”‚ â”‚ â”‚
â”‚  â”‚ â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚    â”‚ â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚    â”‚  â”‚ â€¢ Source/Member Management  â”‚ â”‚ â”‚
â”‚  â”‚ â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚    â”‚ â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚ â”‚â”‚UDP Socket â”‚â”‚ â”‚    â”‚ â”‚â”‚UDP Socket   â”‚â”‚ â”‚    â”‚                                 â”‚ â”‚
â”‚  â”‚ â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚    â”‚ â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”‚ â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚    â”‚ â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚                                       â”‚
â”‚  â”‚ â”‚â”‚IGMP       â”‚â”‚ â”‚    â”‚ â”‚â”‚IGMP         â”‚â”‚ â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â”‚â”‚Keepalive  â”‚â”‚ â”‚    â”‚ â”‚â”‚Keepalive    â”‚â”‚ â”‚    â”‚         VPC Subnet              â”‚ â”‚
â”‚  â”‚ â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚    â”‚ â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚    â”‚                                 â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â€¢ 10.0.1.0/24                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ â€¢ Multicast Enabled             â”‚ â”‚
â”‚           â”‚                       â”‚             â”‚ â€¢ Security Group: UDP 61850     â”‚ â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                 â”‚ â”‚
â”‚                                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             
```

## ğŸ“¡ æ•°æ®æµåŸç†å›¾

```
å‘é€ç«¯ EC2                                                    æ¥æ”¶ç«¯ EC2
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  libiec61850    â”‚                                          â”‚  libiec61850    â”‚
â”‚  Application    â”‚                                          â”‚  Application    â”‚
â”‚                 â”‚                                          â”‚                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                                          â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚GOOSE Frame  â”‚ â”‚ â‘ GOOSE Frame                             â”‚ â”‚GOOSE Frame  â”‚ â”‚
â”‚ â”‚(Layer 2)    â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚ â”‚(Layer 2)    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚           â”‚                              â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚        â”‚        â”‚           â”‚                              â”‚        â–²        â”‚
â”‚        â–¼        â”‚           â”‚                              â”‚        â”‚        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚           â”‚                              â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚TAP Interfaceâ”‚ â”‚           â”‚                              â”‚ â”‚TAP Interfaceâ”‚ â”‚
â”‚ â”‚  (goose0)   â”‚ â”‚           â”‚                              â”‚ â”‚  (goose0)   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚           â”‚                              â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚        â”‚        â”‚           â”‚                              â”‚        â–²        â”‚
â”‚        â–¼        â”‚           â”‚                              â”‚        â”‚        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚           â”‚                              â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚GOOSE Bridge â”‚ â”‚           â”‚                              â”‚ â”‚GOOSE Bridge â”‚ â”‚
â”‚ â”‚   Service   â”‚ â”‚           â”‚                              â”‚ â”‚   Service   â”‚ â”‚
â”‚ â”‚             â”‚ â”‚           â”‚                              â”‚ â”‚             â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚           â”‚                              â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚ â”‚Protocol â”‚ â”‚ â”‚           â”‚                              â”‚ â”‚ â”‚Protocol â”‚ â”‚ â”‚
â”‚ â”‚ â”‚Converterâ”‚ â”‚ â”‚           â”‚                              â”‚ â”‚ â”‚Converterâ”‚ â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚           â”‚                              â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚           â”‚                              â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚        â”‚        â”‚           â”‚                              â”‚        â–²        â”‚
â”‚        â–¼        â”‚           â”‚                              â”‚        â”‚        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚           â”‚                              â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚UDP Multicastâ”‚ â”‚           â”‚                              â”‚ â”‚UDP Multicastâ”‚ â”‚
â”‚ â”‚   Socket    â”‚ â”‚           â”‚                              â”‚ â”‚   Socket    â”‚ â”‚
â”‚ â”‚224.0.1.100  â”‚ â”‚           â”‚                              â”‚ â”‚224.0.1.100  â”‚ â”‚
â”‚ â”‚   :61850    â”‚ â”‚           â”‚                              â”‚ â”‚   :61850    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚           â”‚                              â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚        â”‚        â”‚           â”‚                              â”‚        â–²        â”‚
â”‚        â–¼        â”‚           â”‚                              â”‚        â”‚        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚           â”‚                              â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚IGMP         â”‚ â”‚           â”‚                              â”‚ â”‚IGMP         â”‚ â”‚
â”‚ â”‚Keepalive    â”‚ â”‚           â”‚                              â”‚ â”‚Keepalive    â”‚ â”‚
â”‚ â”‚Manager      â”‚ â”‚           â”‚                              â”‚ â”‚Manager      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚           â”‚                              â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                     â”‚                                       â–²
        â–¼                     â”‚                                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   VPC Network   â”‚           â”‚                              â”‚   VPC Network   â”‚
â”‚                 â”‚           â”‚                              â”‚                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚           â”‚                              â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ENI          â”‚ â”‚           â”‚                              â”‚ â”‚ENI          â”‚ â”‚
â”‚ â”‚10.0.1.94    â”‚ â”‚           â”‚                              â”‚ â”‚10.0.1.95    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚           â”‚                              â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                     â”‚                                       â–²
        â–¼                     â”‚                                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                AWS Transit Gateway                                            â”‚
â”‚                                                                               â”‚
â”‚  â‘¡UDP Multicast Packet                    â‘¢Multicast Distribution            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚Source: 10.0.1.94    â”‚                  â”‚Destination: All Members         â”‚ â”‚
â”‚  â”‚Dest: 224.0.1.100    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚Group: 224.0.1.100              â”‚ â”‚
â”‚  â”‚Port: 61850          â”‚                  â”‚Members: ENI-xxx, ENI-yyy        â”‚ â”‚
â”‚  â”‚Payload: GOOSE Data  â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                    â”‚
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    IGMP Management                                      â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚ â€¢ Query Timer: Every 120 seconds                                       â”‚ â”‚
â”‚  â”‚ â€¢ Member Timeout: 360 seconds (3 missed queries)                       â”‚ â”‚
â”‚  â”‚ â€¢ Data Forward Timeout: 420 seconds                                    â”‚ â”‚
â”‚  â”‚ â€¢ Query Persistence: 12 hours                                          â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚ â”‚
â”‚  â”‚ â”‚ENI: eni-xxx     â”‚  â”‚ENI: eni-yyy     â”‚  â”‚ENI: eni-zzz     â”‚         â”‚ â”‚
â”‚  â”‚ â”‚Type: igmp       â”‚  â”‚Type: igmp       â”‚  â”‚Type: igmp       â”‚         â”‚ â”‚
â”‚  â”‚ â”‚Member: True     â”‚  â”‚Member: True     â”‚  â”‚Member: True     â”‚         â”‚ â”‚
â”‚  â”‚ â”‚Source: False    â”‚  â”‚Source: False    â”‚  â”‚Source: False    â”‚         â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”Œ GOOSEåè®®è¯¦è§£

### åè®®ä»‹ç»

GOOSE (Generic Object Oriented Substation Event) æ˜¯IEC 61850æ ‡å‡†ä¸­å®šä¹‰çš„å¿«é€Ÿæ¶ˆæ¯ä¼ è¾“åè®®ï¼Œä¸“ä¸ºç”µåŠ›ç³»ç»Ÿä¿æŠ¤å’Œæ§åˆ¶åº”ç”¨è®¾è®¡ã€‚

#### æ ¸å¿ƒç‰¹æ€§
- **å®æ—¶æ€§**: ä¼ è¾“å»¶è¿Ÿ < 4ms
- **å¯é æ€§**: é‡ä¼ æœºåˆ¶ç¡®ä¿æ¶ˆæ¯åˆ°è¾¾
- **å¤šæ’­ä¼ è¾“**: ä¸€å¯¹å¤šé€šä¿¡æ¨¡å¼
- **äº‹ä»¶é©±åŠ¨**: çŠ¶æ€å˜åŒ–æ—¶ç«‹å³å‘é€

### åè®®æ ˆç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Application Layer                        â”‚
â”‚                  (IEC 61850 Services)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      GOOSE Layer                            â”‚
â”‚                   (Message Encoding)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    Ethernet Layer                           â”‚
â”‚                  (IEEE 802.3 Frame)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   Physical Layer                            â”‚
â”‚                 (100M/1G Ethernet)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¼ ç»ŸGOOSEåè®®æ ˆ (Layer 2)
```

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Application Layer                        â”‚
â”‚                  (IEC 61850 Services)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      GOOSE Layer                            â”‚
â”‚                   (Message Encoding)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   Bridge Service                            â”‚
â”‚              (Protocol Conversion)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      UDP Layer                              â”‚
â”‚                 (Multicast Transport)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                       IP Layer                              â”‚
â”‚                  (Multicast Routing)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    Ethernet Layer                           â”‚
â”‚                  (IEEE 802.3 Frame)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   Physical Layer                            â”‚
â”‚                 (100M/1G Ethernet)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

äº‘ç«¯GOOSEåè®®æ ˆ (Layer 3)
```

### ä¼ è¾“æœºåˆ¶

#### 1. äº‹ä»¶é©±åŠ¨ä¼ è¾“
```
çŠ¶æ€å˜åŒ– â†’ ç«‹å³å‘é€ â†’ é‡ä¼ åºåˆ— â†’ ç¨³å®šçŠ¶æ€

æ—¶é—´è½´:
T0: äº‹ä»¶å‘ç”Ÿï¼Œç«‹å³å‘é€
T0+2ms: ç¬¬1æ¬¡é‡ä¼ 
T0+4ms: ç¬¬2æ¬¡é‡ä¼   
T0+8ms: ç¬¬3æ¬¡é‡ä¼ 
T0+16ms: ç¬¬4æ¬¡é‡ä¼ 
...
ç¨³å®šå: å¿ƒè·³ä¼ è¾“ (æ¯ç§’1æ¬¡)
```

#### 2. é‡ä¼ ç®—æ³•
```python
def goose_retransmission_schedule():
    intervals = [2, 4, 8, 16, 32, 64, 128, 256, 512, 1000]  # ms
    for interval in intervals:
        send_goose_message()
        wait(interval)
    
    # è¿›å…¥å¿ƒè·³æ¨¡å¼
    while stable:
        send_goose_message()
        wait(1000)  # 1ç§’å¿ƒè·³
```

### GOOSEæ¶ˆæ¯æ ¼å¼è¯¦è§£

#### åŸºç¡€GOOSEå¸§ç»“æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Ethernet Header                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Destination MAC â”‚ Source MAC    â”‚ EtherType â”‚ VLAN (Optional)â”‚
â”‚ 01:0C:CD:01:00:01â”‚ xx:xx:xx:xx:xxâ”‚  0x88B8   â”‚    0x8100      â”‚
â”‚     (6 bytes)   â”‚   (6 bytes)   â”‚ (2 bytes) â”‚   (4 bytes)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     GOOSE PDU                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ APPID â”‚ Length â”‚ Reserved â”‚ Reserved â”‚      GOOSE APDU       â”‚
â”‚(2 byte)â”‚(2 byte)â”‚ (2 byte) â”‚ (2 byte) â”‚    (Variable)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### VLANæ”¯æŒçš„GOOSEå¸§
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 VLAN Tagged Ethernet Frame                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Dest MAC â”‚ Src MAC â”‚ VLAN Tag â”‚ EtherType â”‚   GOOSE PDU     â”‚
â”‚6 bytes   â”‚6 bytes  â”‚ 4 bytes  â”‚  2 bytes  â”‚   Variable      â”‚
â”‚          â”‚         â”‚          â”‚           â”‚                 â”‚
â”‚01:0C:CD: â”‚Device   â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  0x88B8   â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚01:00:01  â”‚Specific â”‚â”‚TPID:   â”‚â”‚           â”‚â”‚APPID: 0x0001 â”‚ â”‚
â”‚          â”‚         â”‚â”‚0x8100  â”‚â”‚           â”‚â”‚Length: xxxx  â”‚ â”‚
â”‚          â”‚         â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚           â”‚â”‚Reserved: 0x00â”‚ â”‚
â”‚          â”‚         â”‚â”‚PCPâ”‚DEIâ”‚â”‚           â”‚â”‚Reserved: 0x00â”‚ â”‚
â”‚          â”‚         â”‚â”‚ 3 â”‚ 1 â”‚â”‚           â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚          â”‚         â”‚â”œâ”€â”€â”€â”¼â”€â”€â”€â”¤â”‚           â”‚â”‚              â”‚ â”‚
â”‚          â”‚         â”‚â”‚ VLAN IDâ”‚â”‚           â”‚â”‚  GOOSE APDU  â”‚ â”‚
â”‚          â”‚         â”‚â”‚12 bits â”‚â”‚           â”‚â”‚              â”‚ â”‚
â”‚          â”‚         â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚           â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

VLAN Tagè¯¦è§£:
- TPID (Tag Protocol ID): 0x8100
- PCP (Priority Code Point): 3 bits, QoSä¼˜å…ˆçº§
- DEI (Drop Eligible Indicator): 1 bit, ä¸¢å¼ƒæŒ‡ç¤º
- VLAN ID: 12 bits, VLANæ ‡è¯†ç¬¦ (1-4094)
```

#### GOOSE APDUç»“æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      GOOSE APDU                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ gocbRef        â”‚ GOOSE Control Block Reference              â”‚
â”‚ (VisString)    â”‚ "TEMPLATE_CFG/LLN0$GO$gcb01"              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ timeAllowedtoLive â”‚ Time to Live (ms)                      â”‚
â”‚ (INT32U)       â”‚ 2000                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ datSet         â”‚ Data Set Reference                         â”‚
â”‚ (VisString)    â”‚ "TEMPLATE_CFG/LLN0$dataset01"             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ goID           â”‚ GOOSE ID                                   â”‚
â”‚ (VisString)    â”‚ "GOOSE_Message_01"                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ t              â”‚ Timestamp                                  â”‚
â”‚ (UtcTime)      â”‚ 0x01D7A3B4C5D6E7F8                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ stNum          â”‚ State Number                               â”‚
â”‚ (INT32U)       â”‚ 12345                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ sqNum          â”‚ Sequence Number                            â”‚
â”‚ (INT32U)       â”‚ 67890                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ simulation     â”‚ Simulation Flag                            â”‚
â”‚ (BOOLEAN)      â”‚ FALSE                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ confRev        â”‚ Configuration Revision                     â”‚
â”‚ (INT32U)       â”‚ 1                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ndsCom         â”‚ Needs Commissioning                        â”‚
â”‚ (BOOLEAN)      â”‚ FALSE                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ numDatSetEntriesâ”‚ Number of Data Set Entries               â”‚
â”‚ (INT32U)       â”‚ 4                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ allData        â”‚ Data Set Values                            â”‚
â”‚ (SEQUENCE)     â”‚ [BOOLEAN: TRUE,                            â”‚
â”‚                â”‚  INT32: 1000,                              â”‚
â”‚                â”‚  FLOAT32: 230.5,                           â”‚
â”‚                â”‚  VisString: "Status_OK"]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¶ˆæ¯ç¼–ç ç¤ºä¾‹

#### åå…­è¿›åˆ¶GOOSEå¸§ç¤ºä¾‹
```
ä»¥å¤ªç½‘å¤´éƒ¨:
01 0C CD 01 00 01  // ç›®æ ‡MAC (GOOSEå¤šæ’­åœ°å€)
AA BB CC DD EE FF  // æºMACåœ°å€
88 B8              // EtherType (GOOSE)

GOOSE PDU:
00 01              // APPID
00 64              // Length (100 bytes)
00 00              // Reserved
00 00              // Reserved

GOOSE APDU (ASN.1 BERç¼–ç ):
61 5C              // GOOSE PDU Tag + Length
80 1A              // gocbRef Tag + Length
54 45 4D 50 4C 41 54 45 5F 43 46 47 2F 4C 4C 4E 30 24 47 4F 24 67 63 62 30 31
                   // "TEMPLATE_CFG/LLN0$GO$gcb01"
81 04              // timeAllowedtoLive Tag + Length
00 00 07 D0        // 2000ms
82 1C              // datSet Tag + Length
54 45 4D 50 4C 41 54 45 5F 43 46 47 2F 4C 4C 4E 30 24 64 61 74 61 73 65 74 30 31
                   // "TEMPLATE_CFG/LLN0$dataset01"
...
```

---

# AWS TGWå¤šæ’­é€šè®¯åŸç†å’Œæ¡¥æ¥è§£å†³æ–¹æ¡ˆ

## ğŸŒ AWS Transit Gatewayå¤šæ’­æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              AWS Region                                             â”‚
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                        Transit Gateway                                         â”‚ â”‚
â”‚  â”‚                                                                                 â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚                    Multicast Domain                                     â”‚   â”‚ â”‚
â”‚  â”‚  â”‚                                                                         â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  Multicast      â”‚  â”‚  Multicast      â”‚  â”‚  Multicast      â”‚         â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  Group 1        â”‚  â”‚  Group 2        â”‚  â”‚  Group 3        â”‚         â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚         â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚224.0.1.100:61850â”‚  â”‚224.0.1.101:61851â”‚  â”‚224.0.1.102:61852â”‚         â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚         â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚         â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚â”‚   Members     â”‚â”‚  â”‚â”‚   Members     â”‚â”‚  â”‚â”‚   Members     â”‚â”‚         â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚â”‚               â”‚â”‚  â”‚â”‚               â”‚â”‚  â”‚â”‚               â”‚â”‚         â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚â”‚ENI-aaa (igmp) â”‚â”‚  â”‚â”‚ENI-bbb (igmp) â”‚â”‚  â”‚â”‚ENI-ccc (igmp) â”‚â”‚         â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚â”‚ENI-bbb (igmp) â”‚â”‚  â”‚â”‚ENI-ccc (igmp) â”‚â”‚  â”‚â”‚ENI-aaa (igmp) â”‚â”‚         â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚â”‚ENI-ccc (igmp) â”‚â”‚  â”‚â”‚ENI-aaa (igmp) â”‚â”‚  â”‚â”‚ENI-bbb (igmp) â”‚â”‚         â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚         â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚         â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚â”‚   Sources     â”‚â”‚  â”‚â”‚   Sources     â”‚â”‚  â”‚â”‚   Sources     â”‚â”‚         â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚â”‚               â”‚â”‚  â”‚â”‚               â”‚â”‚  â”‚â”‚               â”‚â”‚         â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚â”‚ENI-aaa (staticâ”‚â”‚  â”‚â”‚ENI-bbb (staticâ”‚â”‚  â”‚â”‚ENI-ccc (staticâ”‚â”‚         â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚â”‚or igmp)       â”‚â”‚  â”‚â”‚or igmp)       â”‚â”‚  â”‚â”‚or igmp)       â”‚â”‚         â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚         â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚                                                                                 â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚                      IGMP Management                                    â”‚   â”‚ â”‚
â”‚  â”‚  â”‚                                                                         â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚                    Query Process                                â”‚   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚                                                                 â”‚   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  Timer: Every 120 seconds                                      â”‚   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â”‚ Send IGMPv2 Query to all ENIs                          â”‚   â”‚   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â”‚ â”‚ ENI Response Required within timeout               â”‚ â”‚   â”‚   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚   â”‚   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â”‚ â”‚ â”‚ Miss 1: Continue                                â”‚ â”‚ â”‚   â”‚   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â”‚ â”‚ â”‚ Miss 2: Continue                                â”‚ â”‚ â”‚   â”‚   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â”‚ â”‚ â”‚ Miss 3: Remove from group (360s total)         â”‚ â”‚ â”‚   â”‚   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚   â”‚   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚                                                                         â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚                  Data Forwarding                                â”‚   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚                                                                 â”‚   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  Continue forwarding for 420 seconds after last JOIN           â”‚   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  Continue queries for 12 hours                                  â”‚   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚   VPC-A         â”‚    â”‚   VPC-B         â”‚    â”‚   VPC-C         â”‚                 â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚                 â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                 â”‚
â”‚  â”‚ â”‚   Subnet    â”‚ â”‚    â”‚ â”‚   Subnet    â”‚ â”‚    â”‚ â”‚   Subnet    â”‚ â”‚                 â”‚
â”‚  â”‚ â”‚ 10.0.1.0/24 â”‚ â”‚    â”‚ â”‚ 10.0.2.0/24 â”‚ â”‚    â”‚ â”‚ 10.0.3.0/24 â”‚ â”‚                 â”‚
â”‚  â”‚ â”‚             â”‚ â”‚    â”‚ â”‚             â”‚ â”‚    â”‚ â”‚             â”‚ â”‚                 â”‚
â”‚  â”‚ â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚    â”‚ â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚    â”‚ â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚                 â”‚
â”‚  â”‚ â”‚â”‚EC2        â”‚â”‚ â”‚    â”‚ â”‚â”‚EC2        â”‚â”‚ â”‚    â”‚ â”‚â”‚EC2        â”‚â”‚ â”‚                 â”‚
â”‚  â”‚ â”‚â”‚ENI-aaa    â”‚â”‚ â”‚    â”‚ â”‚â”‚ENI-bbb    â”‚â”‚ â”‚    â”‚ â”‚â”‚ENI-ccc    â”‚â”‚ â”‚                 â”‚
â”‚  â”‚ â”‚â”‚10.0.1.94  â”‚â”‚ â”‚    â”‚ â”‚â”‚10.0.2.95  â”‚â”‚ â”‚    â”‚ â”‚â”‚10.0.3.96  â”‚â”‚ â”‚                 â”‚
â”‚  â”‚ â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚    â”‚ â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚    â”‚ â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚                 â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š AWS TGWå¤šæ’­æ•°æ®æµ

```
å‘é€ç«¯ (ENI-aaa)                    TGWå¤šæ’­åŸŸ                     æ¥æ”¶ç«¯ (ENI-bbb, ENI-ccc)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 â”‚                â”‚                 â”‚            â”‚                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚            â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚UDP Multicastâ”‚ â”‚ â‘ Multicast     â”‚ â”‚Group        â”‚ â”‚ â‘¢Replicate â”‚ â”‚UDP Multicastâ”‚ â”‚
â”‚ â”‚Packet       â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ â”‚224.0.1.100  â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ â”‚Packet       â”‚ â”‚
â”‚ â”‚             â”‚ â”‚                â”‚ â”‚             â”‚ â”‚            â”‚ â”‚             â”‚ â”‚
â”‚ â”‚Src:10.0.1.94â”‚ â”‚                â”‚ â”‚Members:     â”‚ â”‚            â”‚ â”‚Src:10.0.1.94â”‚ â”‚
â”‚ â”‚Dst:224.0.1. â”‚ â”‚                â”‚ â”‚- ENI-aaa    â”‚ â”‚            â”‚ â”‚Dst:224.0.1. â”‚ â”‚
â”‚ â”‚    100:61850â”‚ â”‚                â”‚ â”‚- ENI-bbb    â”‚ â”‚            â”‚ â”‚    100:61850â”‚ â”‚
â”‚ â”‚Payload:     â”‚ â”‚                â”‚ â”‚- ENI-ccc    â”‚ â”‚            â”‚ â”‚Payload:     â”‚ â”‚
â”‚ â”‚GOOSE Data   â”‚ â”‚                â”‚ â”‚             â”‚ â”‚            â”‚ â”‚GOOSE Data   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                â”‚ â”‚Sources:     â”‚ â”‚            â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                 â”‚                â”‚ â”‚- ENI-aaa    â”‚ â”‚            â”‚                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                â”‚ â”‚             â”‚ â”‚            â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚IGMP         â”‚ â”‚ â‘¡IGMP Response â”‚ â”‚IGMP State:  â”‚ â”‚ â‘£IGMP Queryâ”‚ â”‚IGMP         â”‚ â”‚
â”‚ â”‚JOIN/LEAVE   â”‚ â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚- Query: 120sâ”‚ â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚JOIN/LEAVE   â”‚ â”‚
â”‚ â”‚Response     â”‚ â”‚                â”‚ â”‚- Timeout:360sâ”‚ â”‚            â”‚ â”‚Response     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                â”‚ â”‚- Forward:420sâ”‚ â”‚            â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ TGWå¤šæ’­ vs ä¼ ç»Ÿå±€åŸŸç½‘å¤šæ’­å¯¹æ¯”

### ä¼ ç»Ÿå±€åŸŸç½‘å¤šæ’­

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Local Area Network                                       â”‚
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Host A    â”‚    â”‚            Switch/Router                â”‚    â”‚   Host B    â”‚ â”‚
â”‚  â”‚             â”‚    â”‚                                         â”‚    â”‚             â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚ â”‚GOOSE    â”‚ â”‚    â”‚  â”‚        IGMP Snooping            â”‚   â”‚    â”‚ â”‚GOOSE    â”‚ â”‚ â”‚
â”‚  â”‚ â”‚Publisherâ”‚ â”‚â”€â”€â”€â”€â”¼â”€â”€â”‚                                 â”‚â”€â”€â”€â”¼â”€â”€â”€â”€â”‚ â”‚Receiver â”‚ â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚  â”‚ â€¢ Learn multicast groups       â”‚   â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚             â”‚    â”‚  â”‚ â€¢ Forward only to interested    â”‚   â”‚    â”‚             â”‚ â”‚
â”‚  â”‚ Layer 2     â”‚    â”‚  â”‚   ports                         â”‚   â”‚    â”‚ Layer 2     â”‚ â”‚
â”‚  â”‚ Direct      â”‚    â”‚  â”‚ â€¢ Immediate forwarding          â”‚   â”‚    â”‚ Direct      â”‚ â”‚
â”‚  â”‚ Ethernet    â”‚    â”‚  â”‚ â€¢ No additional latency         â”‚   â”‚    â”‚ Ethernet    â”‚ â”‚
â”‚  â”‚ Frame       â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚ Frame       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç‰¹ç‚¹:
âœ… å»¶è¿Ÿæä½ (< 1ms)
âœ… ç›´æ¥Layer 2è½¬å‘
âœ… å³æ—¶IGMPå­¦ä¹ 
âœ… ç¡¬ä»¶è½¬å‘
âŒ å±€é™äºå•ä¸ªå¹¿æ’­åŸŸ
âŒ æ— æ³•è·¨è¶Šè·¯ç”±è¾¹ç•Œ
```

### AWS TGWå¤šæ’­

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              AWS Cloud                                             â”‚
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   EC2 A     â”‚    â”‚         Transit Gateway                â”‚    â”‚   EC2 B     â”‚ â”‚
â”‚  â”‚   VPC-1     â”‚    â”‚                                         â”‚    â”‚   VPC-2     â”‚ â”‚
â”‚  â”‚             â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚             â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚  â”‚      Multicast Domain           â”‚   â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚ â”‚GOOSE    â”‚ â”‚    â”‚  â”‚                                 â”‚   â”‚    â”‚ â”‚GOOSE    â”‚ â”‚ â”‚
â”‚  â”‚ â”‚Bridge   â”‚ â”‚â”€â”€â”€â”€â”¼â”€â”€â”‚ â€¢ Software-defined forwarding  â”‚â”€â”€â”€â”¼â”€â”€â”€â”€â”‚ â”‚Bridge   â”‚ â”‚ â”‚
â”‚  â”‚ â”‚Service  â”‚ â”‚    â”‚  â”‚ â€¢ IGMP state management        â”‚   â”‚    â”‚ â”‚Service  â”‚ â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚  â”‚ â€¢ Cross-VPC communication      â”‚   â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚             â”‚    â”‚  â”‚ â€¢ Centralized control          â”‚   â”‚    â”‚             â”‚ â”‚
â”‚  â”‚ Layer 3     â”‚    â”‚  â”‚ â€¢ Query-based membership       â”‚   â”‚    â”‚ Layer 3     â”‚ â”‚
â”‚  â”‚ UDP/IP      â”‚    â”‚  â”‚ â€¢ Timeout-based cleanup        â”‚   â”‚    â”‚ UDP/IP      â”‚ â”‚
â”‚  â”‚ Multicast   â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚ Multicast   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç‰¹ç‚¹:
âœ… è·¨VPCé€šä¿¡
âœ… å¯æ‰©å±•æ€§å¼º
âœ… é›†ä¸­ç®¡ç†
âœ… äº‘åŸç”Ÿè®¾è®¡
âŒ å¢åŠ å»¶è¿Ÿ (5-10ms)
âŒ éœ€è¦Layer 3å°è£…
âŒ IGMPè¶…æ—¶æœºåˆ¶å¤æ‚
âŒ éœ€è¦é¢å¤–çš„æ¡¥æ¥æœåŠ¡
```

### å¯¹æ¯”æ€»ç»“

| ç‰¹æ€§ | ä¼ ç»Ÿå±€åŸŸç½‘å¤šæ’­ | AWS TGWå¤šæ’­ |
|------|----------------|-------------|
| **å»¶è¿Ÿ** | < 1ms | 5-10ms |
| **åè®®å±‚** | Layer 2 | Layer 3 |
| **è½¬å‘æ–¹å¼** | ç¡¬ä»¶ç›´è½¬ | è½¯ä»¶å®šä¹‰ |
| **è·¨ç½‘ç»œ** | ä¸æ”¯æŒ | æ”¯æŒè·¨VPC |
| **IGMPç®¡ç†** | å³æ—¶å­¦ä¹  | å®šæ—¶æŸ¥è¯¢ |
| **å¯æ‰©å±•æ€§** | å—é™ | é«˜æ‰©å±•æ€§ |
| **é…ç½®å¤æ‚åº¦** | ç®€å• | å¤æ‚ |
| **æˆæœ¬** | ä½ | ä¸­ç­‰ |

## ğŸ¤” ä¸ºä»€ä¹ˆéœ€è¦GOOSEæ¡¥æ¥ç¨‹åºï¼Ÿ

### é—®é¢˜åˆ†æ

#### 1. åè®®å±‚ä¸åŒ¹é…
```
libiec61850åº”ç”¨æœŸæœ›:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Layer 2       â”‚ â† GOOSEåŸç”Ÿåè®®
â”‚   Ethernet      â”‚
â”‚   Direct Frame  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

AWS TGWæä¾›:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Layer 3       â”‚ â† IPå¤šæ’­
â”‚   UDP/IP        â”‚
â”‚   Routed Packet â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2. åœ°å€ç©ºé—´å·®å¼‚
```
GOOSEåŸç”Ÿ:
- MACåœ°å€: 01:0C:CD:01:00:01 (å›ºå®šå¤šæ’­MAC)
- æ— IPåœ°å€æ¦‚å¿µ
- ç›´æ¥ä»¥å¤ªç½‘å¸§

AWS TGW:
- IPåœ°å€: 224.0.1.100 (IPå¤šæ’­åœ°å€)
- UDPç«¯å£: 61850
- éœ€è¦IPè·¯ç”±
```

#### 3. ä¼ è¾“æœºåˆ¶å·®å¼‚
```
GOOSEåŸç”Ÿä¼ è¾“:
åº”ç”¨ â†’ ä»¥å¤ªç½‘æ¥å£ â†’ ç½‘ç»œ

AWSäº‘ç«¯ä¼ è¾“:
åº”ç”¨ â†’ TAPæ¥å£ â†’ æ¡¥æ¥æœåŠ¡ â†’ UDPå¥—æ¥å­— â†’ TGW â†’ ç›®æ ‡å®ä¾‹
```

### æ¡¥æ¥è§£å†³æ–¹æ¡ˆåŸç†

#### 1. é€æ˜åè®®è½¬æ¢
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        GOOSE Bridge Service                                        â”‚
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚   TAP Reader    â”‚                                    â”‚  UDP Sender     â”‚        â”‚
â”‚  â”‚                 â”‚                                    â”‚                 â”‚        â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â‘ GOOSE Frame   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚        â”‚
â”‚  â”‚ â”‚Read from    â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚Protocol     â”‚   â”‚ â”‚Send to      â”‚ â”‚        â”‚
â”‚  â”‚ â”‚TAP Interfaceâ”‚ â”‚                 â”‚Converter    â”‚â”€â”€â”€â”¼â”€â”‚UDP Multicastâ”‚ â”‚        â”‚
â”‚  â”‚ â”‚(goose0)     â”‚ â”‚                 â”‚             â”‚   â”‚ â”‚Socket       â”‚ â”‚        â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                 â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚ â”‚Extract  â”‚ â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                      â”‚ â”‚GOOSE    â”‚ â”‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚ â”‚Payload  â”‚ â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  UDP Receiver   â”‚                 â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚   TAP Writer    â”‚        â”‚
â”‚  â”‚                 â”‚                 â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚                 â”‚        â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â‘£UDP Packet    â”‚ â”‚Rebuild  â”‚ â”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚        â”‚
â”‚  â”‚ â”‚Receive from â”‚ â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚GOOSE    â”‚ â”‚â—„â”€â”€â”¼â”€â”‚Write to     â”‚ â”‚        â”‚
â”‚  â”‚ â”‚UDP Multicastâ”‚ â”‚                 â”‚ â”‚Frame    â”‚ â”‚   â”‚ â”‚TAP Interfaceâ”‚ â”‚        â”‚
â”‚  â”‚ â”‚Socket       â”‚ â”‚                 â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚ â”‚(goose0)     â”‚ â”‚        â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2. åŒå‘è½¬æ¢æµç¨‹

**å‘é€æ–¹å‘ (GOOSE â†’ UDP)**:
```
libiec61850åº”ç”¨
    â”‚ â‘ å‘é€GOOSEå¸§
    â–¼
TAPæ¥å£ (goose0)
    â”‚ â‘¡è¯»å–ä»¥å¤ªç½‘å¸§
    â–¼
æ¡¥æ¥æœåŠ¡
    â”‚ â‘¢è§£æGOOSEå¸§
    â”‚   - æå–ç›®æ ‡MAC
    â”‚   - æå–GOOSEè½½è·
    â”‚   - éªŒè¯å¸§å®Œæ•´æ€§
    â–¼
åè®®è½¬æ¢å™¨
    â”‚ â‘£å°è£…ä¸ºUDPåŒ…
    â”‚   - æºIP: æœ¬æœºIP
    â”‚   - ç›®æ ‡IP: 224.0.1.100
    â”‚   - ç«¯å£: 61850
    â”‚   - è½½è·: GOOSEæ•°æ®
    â–¼
UDPå¤šæ’­å¥—æ¥å­—
    â”‚ â‘¤å‘é€åˆ°ç½‘ç»œ
    â–¼
AWS TGWå¤šæ’­åŸŸ
```

**æ¥æ”¶æ–¹å‘ (UDP â†’ GOOSE)**:
```
AWS TGWå¤šæ’­åŸŸ
    â”‚ â‘ æ¥æ”¶UDPå¤šæ’­åŒ…
    â–¼
UDPå¤šæ’­å¥—æ¥å­—
    â”‚ â‘¡è¯»å–UDPæ•°æ®
    â–¼
æ¡¥æ¥æœåŠ¡
    â”‚ â‘¢è§£æUDPè½½è·
    â”‚   - æå–æºIP
    â”‚   - æå–GOOSEæ•°æ®
    â”‚   - éªŒè¯æ•°æ®å®Œæ•´æ€§
    â–¼
åè®®è½¬æ¢å™¨
    â”‚ â‘£é‡å»ºGOOSEå¸§
    â”‚   - æ„é€ ä»¥å¤ªç½‘å¤´
    â”‚   - è®¾ç½®GOOSEå¤šæ’­MAC
    â”‚   - å°è£…GOOSEè½½è·
    â–¼
TAPæ¥å£ (goose0)
    â”‚ â‘¤å†™å…¥ä»¥å¤ªç½‘å¸§
    â–¼
libiec61850åº”ç”¨
```

#### 3. VLANæ”¯æŒæœºåˆ¶

```
VLAN GOOSEå¸§å¤„ç†:

è¾“å…¥: VLAN Tagged GOOSE Frame
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Dest MAC â”‚ Src MAC â”‚ VLAN Tag â”‚ EtherType â”‚   GOOSE PDU     â”‚
â”‚01:0C:CD: â”‚Device   â”‚ 0x8100   â”‚  0x88B8   â”‚   Payload       â”‚
â”‚01:00:01  â”‚Specific â”‚ VLAN:100 â”‚           â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
            åè®®è½¬æ¢å™¨å¤„ç†
                    â”‚
                    â–¼
è¾“å‡º: UDP Packet with VLAN Info
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ IP Header â”‚ UDP Header â”‚ VLAN Metadata â”‚   GOOSE PDU        â”‚
â”‚Src:10.0.1.â”‚Src:61850   â”‚ VLAN ID: 100  â”‚   Original         â”‚
â”‚94         â”‚Dst:61850   â”‚ Priority: 6   â”‚   Payload          â”‚
â”‚Dst:224.0. â”‚            â”‚               â”‚                    â”‚
â”‚1.100      â”‚            â”‚               â”‚                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4. æ€§èƒ½ä¼˜åŒ–æœºåˆ¶

```
é«˜æ€§èƒ½å¤„ç†æ¶æ„:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Main Thread                              â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚ â”‚   Accept    â”‚  â”‚   Manage    â”‚  â”‚   Monitor   â”‚          â”‚
â”‚ â”‚ Connections â”‚  â”‚   Threads   â”‚  â”‚   Stats     â”‚          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                    â”‚                    â”‚
         â–¼                    â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚TAP Reader   â”‚    â”‚UDP Reader   â”‚    â”‚IGMP Manager â”‚
â”‚Thread       â”‚    â”‚Thread       â”‚    â”‚Thread       â”‚
â”‚             â”‚    â”‚             â”‚    â”‚             â”‚
â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚    â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚    â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚â”‚Async I/O  â”‚â”‚    â”‚â”‚Async I/O  â”‚â”‚    â”‚â”‚Keepalive  â”‚â”‚
â”‚â”‚select()   â”‚â”‚    â”‚â”‚select()   â”‚â”‚    â”‚â”‚Timer      â”‚â”‚
â”‚â”‚epoll()    â”‚â”‚    â”‚â”‚epoll()    â”‚â”‚    â”‚â”‚Monitor    â”‚â”‚
â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚    â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚    â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚    â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚    â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚â”‚Batch      â”‚â”‚    â”‚â”‚Batch      â”‚â”‚    â”‚â”‚Auto       â”‚â”‚
â”‚â”‚Processing â”‚â”‚    â”‚â”‚Processing â”‚â”‚    â”‚â”‚Reregister â”‚â”‚
â”‚â”‚Queue      â”‚â”‚    â”‚â”‚Queue      â”‚â”‚    â”‚â”‚Recovery   â”‚â”‚
â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚    â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚    â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5. é”™è¯¯æ¢å¤æœºåˆ¶

```
æ•…éšœæ£€æµ‹å’Œæ¢å¤:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Health Monitor                             â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Interface Monitor                          â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚  TAP Interface Check â”€â”€â”                               â”‚ â”‚
â”‚  â”‚  UDP Socket Check â”€â”€â”€â”€â”€â”¼â”€â”€ Every 30s â”€â”€â”               â”‚ â”‚
â”‚  â”‚  IGMP Status Check â”€â”€â”€â”€â”˜                â”‚               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                            â”‚                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Error Recovery                             â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚  Interface Down â”€â”€â”€â”€â”€â”€ Recreate TAP                    â”‚ â”‚
â”‚  â”‚  Socket Error â”€â”€â”€â”€â”€â”€â”€â”€ Recreate Socket                 â”‚ â”‚
â”‚  â”‚  IGMP Timeout â”€â”€â”€â”€â”€â”€â”€â”€ Force Reregister                â”‚ â”‚
â”‚  â”‚  TGW Disconnect â”€â”€â”€â”€â”€â”€ Retry Connection                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ æ¡¥æ¥ç¨‹åºæ ¸å¿ƒä»·å€¼

### 1. é€æ˜æ€§
- libiec61850åº”ç”¨æ— éœ€ä¿®æ”¹
- ä¿æŒåŸæœ‰APIå’Œè¡Œä¸º
- å®Œå…¨å…¼å®¹ç°æœ‰ä»£ç 

### 2. å¯é æ€§
- IGMPä¿æ´»é˜²æ­¢è¶…æ—¶
- è‡ªåŠ¨é”™è¯¯æ¢å¤
- è¿æ¥çŠ¶æ€ç›‘æ§

### 3. æ€§èƒ½
- å¼‚æ­¥I/Oå¤„ç†
- æ‰¹é‡æ•°æ®ä¼ è¾“
- é›¶æ‹·è´ä¼˜åŒ–

### 4. å¯æ‰©å±•æ€§
- æ”¯æŒå¤šVPCé€šä¿¡
- æ”¯æŒå¤§è§„æ¨¡éƒ¨ç½²
- æ”¯æŒåŠ¨æ€é…ç½®

### 5. äº‘åŸç”Ÿ
- AWSæœåŠ¡é›†æˆ
- è‡ªåŠ¨åŒ–éƒ¨ç½²
- ç›‘æ§å’Œæ—¥å¿—
